<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Ramallah Waste Containers</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />

  <!-- CSS -->
  <style>
    body {
      margin: 0;
      height: 100%;
      width: 100%;
    }

    #map {
      position: absolute;
      width: 100%;
      top: 0;
      bottom: 0;
    }

    /* ğŸŒ North Arrow Style */
    .leaflet-control-northarrow {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, .15);
      padding: 6px;
      width: 44px;
      height: 64px;
      display: grid;
      place-items: center;
      font-family: system-ui, sans-serif;
    }

    .northarrow-svg {
      width: 28px;
      height: 48px;
      display: block;
    }

    .northarrow-label {
      font-size: 12px;
      line-height: 1;
      margin-top: -4px;
      font-weight: 600;
      text-align: center;
    }
  </style>
</head>

<body>
  <div id="map"></div>

  <!-- Leaflet & jQuery -->
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <script>
    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
    const mapOptions = {
      zoomSnap: 0.5,
      center: [31.9045, 35.2045],
      zoom: 17.5,
    };

    const map = L.map("map", mapOptions);

    // Ø·Ø¨Ù‚Ø© Ø§Ù„Ø®Ù„ÙÙŠØ©
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      attribution:
        '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
      subdomains: 'abcd',
      maxZoom: 20
    }).addTo(map);

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    $.getJSON("RamallahZones.json", function (RZ) {
      L.geoJson(RZ).addTo(map);
    });

    $.getJSON("wasteContainer.json", function (WC) {
      L.geoJson(WC).addTo(map);
    });

    // ğŸ§­ North Arrow Control
    const NorthArrowControl = L.Control.extend({
      options: { position: 'topright' }, // ØºÙŠØ±Ù‡Ø§ Ø­Ø³Ø¨ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù„ÙŠ Ø¨Ø¯Ùƒ
      onAdd: function () {
        const container = L.DomUtil.create('div', 'leaflet-control-northarrow');
        L.DomEvent.disableClickPropagation(container);
        L.DomEvent.disableScrollPropagation(container);
        container.innerHTML = `
          <svg class="northarrow-svg" viewBox="0 0 24 42" aria-label="North Arrow" role="img">
            <polygon points="12,0 24,20 0,20" fill="#c81e1e"></polygon>
            <rect x="9.5" y="20" width="5" height="20" rx="2" ry="2" fill="#6b7280"></rect>
            <line x1="12" y1="20" x2="12" y2="40" stroke="#374151" stroke-width="1" opacity="0.3"/>
          </svg>
          <div class="northarrow-label">N</div>
        `;
        return container;
      }
    });

    // Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ø´Ù…Ø§Ù„ Ù„Ù„Ø®Ø±ÙŠØ·Ø©
    (new NorthArrowControl()).addTo(map);
  </script>
</body>
</html>
